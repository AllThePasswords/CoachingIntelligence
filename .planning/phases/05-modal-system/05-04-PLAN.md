---
phase: 05-modal-system
plan: 04
type: execute
wave: 3
depends_on: ["05-02", "05-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "All modal interactions work as specified"
    - "Visual styling matches Geist design system"
    - "Toast notifications appear correctly"
  artifacts: []
  key_links: []
---

<objective>
Human verification of complete Modal System functionality.

Purpose: Confirm all CITE and ACT requirements are met before proceeding to Claude Integration phase.
Output: Verified working modal system ready for Phase 6.
</objective>

<execution_context>
@/Users/ericgreene/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ericgreene/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-modal-system/05-01-SUMMARY.md
@.planning/phases/05-modal-system/05-02-SUMMARY.md
@.planning/phases/05-modal-system/05-03-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete Modal System with CitationModal, ConfirmationModal, and toast notifications:
    - CitationModal: Opens on citation click, shows call details and coaching activity
    - ConfirmationModal: Opens on action click, shows editable form and triggers toast
    - Sonner toast: Shows success message after action confirmation
  </what-built>
  <how-to-verify>
    Start the dev server if not running: `npm run dev`

    **Citation Modal (CITE-01 through CITE-06):**
    1. Navigate to http://localhost:5173/manager/david-chen (or any manager)
    2. Scroll to Feedback Quality section and click any CALL-XXXX citation
    3. Verify modal opens with:
       - [ ] Call ID displayed in monospace font
       - [ ] Date and Duration shown
       - [ ] AE name and Manager name shown
       - [ ] Pipeline Stage shown
       - [ ] Coaching Activity checklist with check/X marks
       - [ ] Feedback text in blockquote (if available)
       - [ ] "View Full Call in Gong" link at bottom
    4. Press ESC key - verify modal closes
    5. Click citation again, then click outside modal (backdrop) - verify modal closes

    **Confirmation Modal (ACT-03 through ACT-06):**
    6. Click the "Actions" dropdown button
    7. Select "Add to 1:1"
    8. Verify modal opens with:
       - [ ] Title shows "Add to 1:1 Agenda for [Manager Name]"
       - [ ] Next 1:1 date displayed (mocked)
       - [ ] Topic field is editable (try changing the text)
    9. Click "Confirm" button
    10. Verify:
        - [ ] Modal closes
        - [ ] Success toast appears at bottom-right
    11. Click Actions > "Send summary"
    12. Click "Cancel" button
    13. Verify modal closes without toast

    **Cross-modal test:**
    14. Open a citation modal, close it
    15. Open a confirmation modal, close it
    16. Verify no state leakage between modals
  </how-to-verify>
  <resume-signal>Type "approved" if all items pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
Human confirms:
1. Citation modal shows all required details (CITE-01 through CITE-06)
2. Confirmation modal shows form with editable topic (ACT-03, ACT-04, ACT-05)
3. Success toast appears after confirmation (ACT-06)
4. Both modals close properly on ESC and backdrop click
5. No visual glitches or state issues
</verification>

<success_criteria>
- All CITE requirements verified working
- All ACT requirements verified working
- Visual styling matches expected design
- No console errors during modal interactions
- User approves the modal system
</success_criteria>

<output>
After completion, create `.planning/phases/05-modal-system/05-04-SUMMARY.md`
</output>
