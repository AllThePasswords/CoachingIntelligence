---
phase: 02-component-library
plan: 04
type: execute
wave: 2
depends_on: ["02-01"]
files_modified:
  - src/components/input/TimeframeToggle/TimeframeToggle.jsx
  - src/components/input/TimeframeToggle/index.js
  - src/components/input/AskInput/AskInput.jsx
  - src/components/input/AskInput/index.js
  - src/components/input/index.js
autonomous: true

must_haves:
  truths:
    - "TimeframeToggle displays 30/60/90 day options"
    - "TimeframeToggle changes global state via Zustand"
    - "AskInput accepts text entry and emits submit events"
    - "AskInput clears after submit"
  artifacts:
    - path: "src/components/input/TimeframeToggle/TimeframeToggle.jsx"
      provides: "Timeframe selector connected to Zustand"
      exports: ["TimeframeToggle"]
    - path: "src/components/input/AskInput/AskInput.jsx"
      provides: "Question input field with submit"
      exports: ["AskInput"]
    - path: "src/components/input/index.js"
      provides: "Input components barrel"
      exports: ["TimeframeToggle", "AskInput"]
  key_links:
    - from: "src/components/input/TimeframeToggle/TimeframeToggle.jsx"
      to: "src/stores"
      via: "useTimeframeStore hook"
      pattern: "import.*useTimeframeStore.*from.*@/stores"
---

<objective>
Create input components: TimeframeToggle for switching 30/60/90 day views (connected to Zustand), and AskInput for the "Ask anything" text entry.

Purpose: TimeframeToggle is the global control that updates all timeframe-dependent components. AskInput is used on Dashboard and Manager Detail for asking questions.
Output: Working TimeframeToggle wired to Zustand, AskInput with submit handler.
</objective>

<execution_context>
@/Users/ericgreene/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ericgreene/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/02-component-library/02-RESEARCH.md

# Zustand store to connect
@src/stores/timeframeStore.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create TimeframeToggle component</name>
  <files>
    src/components/input/TimeframeToggle/TimeframeToggle.jsx
    src/components/input/TimeframeToggle/index.js
  </files>
  <action>
1. Create `src/components/input/TimeframeToggle/` directory

2. Create `src/components/input/TimeframeToggle/TimeframeToggle.jsx`:
   - Import { useTimeframeStore } from '@/stores'
   - Use selective subscription: `const timeframe = useTimeframeStore(state => state.timeframe)`
   - Get setTimeframe: `const setTimeframe = useTimeframeStore(state => state.setTimeframe)`
   - Render three toggle buttons: 30, 60, 90 days
   - Structure from 02-RESEARCH.md:
     ```jsx
     <div className="inline-flex gap-1 p-1 bg-gray-100 rounded-lg">
       {['30', '60', '90'].map(value => (
         <button
           key={value}
           onClick={() => setTimeframe(value)}
           className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${
             timeframe === value
               ? 'bg-foreground text-background-100 shadow-sm'
               : 'text-gray-600 hover:bg-gray-200'
           }`}
         >
           {value} Days
         </button>
       ))}
     </div>
     ```
   - Active state: dark background (bg-foreground), light text
   - Inactive state: transparent, gray text, hover effect

3. Create `src/components/input/TimeframeToggle/index.js`:
   ```javascript
   export { TimeframeToggle } from './TimeframeToggle';
   ```

Use Zustand's selective subscription pattern to prevent unnecessary re-renders. Only subscribe to the specific state slice needed.
  </action>
  <verify>
    - File exists at correct path
    - Component renders three buttons
    - Clicking button changes store state
  </verify>
  <done>
    - TimeframeToggle renders 30/60/90 options
    - Active button has visual distinction
    - Click updates Zustand store
  </done>
</task>

<task type="auto">
  <name>Task 2: Create AskInput component and input barrel</name>
  <files>
    src/components/input/AskInput/AskInput.jsx
    src/components/input/AskInput/index.js
    src/components/input/index.js
  </files>
  <action>
1. Create `src/components/input/AskInput/` directory

2. Create `src/components/input/AskInput/AskInput.jsx`:
   - Import { useState } from 'react'
   - Props:
     - `onSubmit` (function): called with question text when submitted
     - `placeholder` (string, optional): default "Ask anything about your team..."
     - `disabled` (boolean, optional): disables input during loading
   - Internal state: `const [value, setValue] = useState('')`
   - Handle submit:
     ```javascript
     const handleSubmit = (e) => {
       e.preventDefault();
       if (value.trim() && onSubmit) {
         onSubmit(value.trim());
         setValue(''); // Clear after submit
       }
     };
     ```
   - Render as form with input and submit button:
     ```jsx
     <form onSubmit={handleSubmit} className="flex gap-2">
       <input
         type="text"
         value={value}
         onChange={(e) => setValue(e.target.value)}
         placeholder={placeholder}
         disabled={disabled}
         className="flex-1 h-12 px-4 bg-background-100 border border-border rounded-lg text-foreground placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-gray-300 transition-all disabled:opacity-50 disabled:cursor-not-allowed"
       />
       <button
         type="submit"
         disabled={disabled || !value.trim()}
         className="h-12 px-6 bg-foreground text-background-100 rounded-lg text-sm font-medium transition-all hover:bg-gray-700 active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed"
       >
         Ask
       </button>
     </form>
     ```
   - Style follows Geist input patterns: clean border, subtle focus ring

3. Create `src/components/input/AskInput/index.js`:
   ```javascript
   export { AskInput } from './AskInput';
   ```

4. Create `src/components/input/index.js` (barrel export):
   ```javascript
   export { TimeframeToggle } from './TimeframeToggle';
   export { AskInput } from './AskInput';
   ```

AskInput is a controlled component that clears on submit. The disabled state prevents double-submission during API calls.
  </action>
  <verify>
    - All files created at correct paths
    - AskInput renders form with input and button
    - Submit calls onSubmit and clears input
    - Input barrel exports both components
    - `npm run build` succeeds
  </verify>
  <done>
    - AskInput accepts text and emits submit event
    - Input clears after successful submit
    - Disabled state works
    - Input barrel: import { TimeframeToggle, AskInput } from '@/components/input'
  </done>
</task>

</tasks>

<verification>
1. Run `npm run build` - should succeed
2. Verify file structure:
   ```
   src/components/input/
   ├── TimeframeToggle/
   │   ├── TimeframeToggle.jsx
   │   └── index.js
   ├── AskInput/
   │   ├── AskInput.jsx
   │   └── index.js
   └── index.js
   ```
3. TimeframeToggle updates Zustand store (verify by checking store state)
</verification>

<success_criteria>
- TimeframeToggle displays 30/60/90 options with active indicator
- TimeframeToggle updates Zustand store on click
- AskInput accepts text entry with placeholder
- AskInput emits submit event with question text
- AskInput clears after submit
- Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-component-library/02-04-SUMMARY.md`
</output>
