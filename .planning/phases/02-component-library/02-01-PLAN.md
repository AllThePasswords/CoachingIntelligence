---
phase: 02-component-library
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/stores/timeframeStore.js
  - src/stores/index.js
  - src/components/ui/TrendArrow/TrendArrow.jsx
  - src/components/ui/TrendArrow/index.js
  - src/components/ui/icons/InfoIcon.jsx
  - src/components/ui/icons/index.js
autonomous: true

must_haves:
  truths:
    - "Zustand store can be imported and used in any component"
    - "TrendArrow component renders up/down/steady variants correctly"
    - "InfoIcon component renders correctly"
    - "All components importable via barrel exports"
  artifacts:
    - path: "src/stores/timeframeStore.js"
      provides: "Centralized timeframe state management"
      exports: ["useTimeframeStore"]
    - path: "src/stores/index.js"
      provides: "Store barrel export"
      exports: ["useTimeframeStore"]
    - path: "src/components/ui/TrendArrow/TrendArrow.jsx"
      provides: "Trend direction indicator"
      exports: ["TrendArrow"]
    - path: "src/components/ui/icons/InfoIcon.jsx"
      provides: "Info tooltip trigger icon"
      exports: ["InfoIcon"]
  key_links:
    - from: "src/stores/timeframeStore.js"
      to: "zustand"
      via: "create function import"
      pattern: "import.*create.*from.*zustand"
---

<objective>
Set up component infrastructure: Zustand store for shared timeframe state and extract atomic icon components from App.jsx.

Purpose: Establishes the foundation for all Phase 2 components - centralized state management and reusable icon primitives that other components will import.
Output: Working Zustand store, TrendArrow component (with up/down/steady variants), InfoIcon component, and barrel exports.
</objective>

<execution_context>
@/Users/ericgreene/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ericgreene/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-component-library/02-RESEARCH.md

# Source patterns to extract from
@src/App.jsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Zustand and create timeframe store</name>
  <files>
    package.json
    src/stores/timeframeStore.js
    src/stores/index.js
  </files>
  <action>
1. Install Zustand:
   ```bash
   npm install zustand
   ```

2. Create `src/stores/` directory

3. Create `src/stores/timeframeStore.js`:
   - Import `create` from 'zustand'
   - Create store with state: `timeframe: '30'` (default 30 days)
   - Add action: `setTimeframe: (value) => set({ timeframe: value })`
   - Value should be string: '30', '60', or '90'
   - Export as `useTimeframeStore`

4. Create `src/stores/index.js` barrel export:
   - Re-export useTimeframeStore

Follow the exact Zustand pattern from 02-RESEARCH.md. Use selective subscriptions pattern shown in research.
  </action>
  <verify>
    - `npm ls zustand` shows zustand installed
    - Files exist at correct paths
    - No syntax errors: `npm run build` succeeds
  </verify>
  <done>
    - Zustand installed in package.json dependencies
    - timeframeStore.js exports useTimeframeStore with timeframe state and setTimeframe action
    - Barrel export works: `import { useTimeframeStore } from '@/stores'`
  </done>
</task>

<task type="auto">
  <name>Task 2: Extract TrendArrow and InfoIcon components</name>
  <files>
    src/components/ui/TrendArrow/TrendArrow.jsx
    src/components/ui/TrendArrow/index.js
    src/components/ui/icons/InfoIcon.jsx
    src/components/ui/icons/index.js
  </files>
  <action>
1. Create directory structure:
   ```
   src/components/ui/TrendArrow/
   src/components/ui/icons/
   ```

2. Create `src/components/ui/TrendArrow/TrendArrow.jsx`:
   - Extract TrendUp, TrendDown, TrendSteady SVGs from App.jsx
   - Create single TrendArrow component that takes `direction` prop
   - direction: 'up' | 'down' | 'steady'
   - Render appropriate SVG based on direction
   - Keep exact same SVG paths and styling from App.jsx
   - Export named: `export function TrendArrow({ direction })`

3. Create `src/components/ui/TrendArrow/index.js`:
   ```javascript
   export { TrendArrow } from './TrendArrow';
   ```

4. Create `src/components/ui/icons/InfoIcon.jsx`:
   - Extract InfoIcon SVG from App.jsx (lines 37-43)
   - Keep exact same SVG markup
   - Export named: `export function InfoIcon()`

5. Create `src/components/ui/icons/index.js`:
   ```javascript
   export { InfoIcon } from './InfoIcon';
   ```

Use exact SVG paths from App.jsx - do not modify the icons, just extract them into proper component files.
  </action>
  <verify>
    - All files created at correct paths
    - Components export correctly (no import errors)
    - `npm run build` succeeds
  </verify>
  <done>
    - TrendArrow component accepts direction prop and renders correct icon
    - InfoIcon component renders info circle icon
    - Both importable via index.js barrel exports
  </done>
</task>

</tasks>

<verification>
1. Run `npm run build` - should succeed with no errors
2. Verify file structure exists:
   ```
   src/
   ├── stores/
   │   ├── timeframeStore.js
   │   └── index.js
   └── components/
       └── ui/
           ├── TrendArrow/
           │   ├── TrendArrow.jsx
           │   └── index.js
           └── icons/
               ├── InfoIcon.jsx
               └── index.js
   ```
3. Verify imports work by checking build output
</verification>

<success_criteria>
- Zustand is installed and store exports correctly
- TrendArrow renders three variants based on direction prop
- InfoIcon renders correctly
- All components use barrel exports
- Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-component-library/02-01-SUMMARY.md`
</output>
