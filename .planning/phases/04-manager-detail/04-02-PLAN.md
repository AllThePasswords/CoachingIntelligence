---
phase: 04-manager-detail
plan: 02
type: execute
wave: 2
depends_on: ["04-01"]
files_modified:
  - src/pages/ManagerDetail/ManagerDetail.jsx
autonomous: true

must_haves:
  truths:
    - "User sees Coaching Investment section with level and activity count"
    - "User sees Trend Over Time section with trend status"
    - "User sees Coaching Methods breakdown with 5 activity types"
    - "User sees Coaching Distribution section with level"
    - "User sees Feedback Quality section with example quotes and citations"
  artifacts:
    - path: "src/pages/ManagerDetail/ManagerDetail.jsx"
      provides: "Five InsightSection components populated from summaries data"
      contains: "InsightSection"
  key_links:
    - from: "ManagerDetail.jsx"
      to: "InsightSection"
      via: "import from @/components/sections"
      pattern: "import.*InsightSection.*from.*@/components/sections"
    - from: "ManagerDetail.jsx"
      to: "Citation"
      via: "import for feedback examples"
      pattern: "import.*Citation.*from.*@/components/display"
    - from: "ManagerDetail.jsx"
      to: "summary.sections"
      via: "data mapping from getSummaryByManager"
      pattern: "summary\\.sections\\.(effort|trend|methods|distribution|feedback_quality)"
---

<objective>
Build the five insight sections that show a manager's coaching effectiveness across all dimensions: Investment, Trend, Methods, Distribution, and Feedback Quality.

Purpose: These sections are the core value of the detail page - they transform raw coaching data into actionable insights. Each section uses the existing InsightSection component populated with pre-generated summary content.

Output: ManagerDetail.jsx updated with all five insight sections rendered below the hero.
</objective>

<execution_context>
@/Users/ericgreene/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ericgreene/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Components to use
@src/components/sections/InsightSection/InsightSection.jsx
@src/components/display/Citation/Citation.jsx

# Data structure (critical - contains all section content)
@src/data/summaries.js

# Prior plan summary
@.planning/phases/04-manager-detail/04-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Five Insight Sections to ManagerDetail</name>
  <files>src/pages/ManagerDetail/ManagerDetail.jsx</files>
  <action>
Add the five insight sections below the hero, using InsightSection component and summary data:

1. **Add imports** at top of file:
   ```jsx
   import { InsightSection } from '@/components/sections';
   import { Citation } from '@/components/display';
   ```

2. **Create level-to-rating mapping** (helper function or const):
   ```jsx
   const levelToRating = {
     'High': 'improving',
     'Medium': 'steady',
     'Low': 'declining',
     'Minimal': 'declining',
     'Stable': 'steady',
     'Declining': 'declining',
     'Improving': 'improving',
     'Even': 'improving',
     'Uneven': 'declining',
     'Sporadic': 'declining',
     'Absent': 'declining',
     'Specific & Actionable': 'improving',
     'Moderate to Vague': 'steady',
     'Generic': 'declining',
     'None': 'declining'
   };
   ```

3. **Replace placeholder** with sections container:
   ```jsx
   <div className="mt-8 space-y-6">
     {/* Section 1: Coaching Investment */}
     {/* Section 2: Trend Over Time */}
     {/* Section 3: Coaching Methods */}
     {/* Section 4: Coaching Distribution */}
     {/* Section 5: Feedback Quality */}
   </div>
   ```

4. **Section 1 - Coaching Investment** (summary.sections.effort):
   ```jsx
   <InsightSection
     title={summary.sections.effort.title}
     rating={levelToRating[summary.sections.effort.level]}
   >
     <div className="flex items-center gap-4 mb-4">
       <span className="text-2xl font-bold">{summary.sections.effort.level}</span>
       <span className="text-gray-500">{summary.sections.effort.value}</span>
     </div>
     <p className="text-gray-600 leading-relaxed">{summary.sections.effort.detail}</p>
   </InsightSection>
   ```

5. **Section 2 - Trend Over Time** (summary.sections.trend):
   - Same pattern as Section 1
   - Show level, value (e.g. "90 days"), and detail text

6. **Section 3 - Coaching Methods** (summary.sections.methods):
   - No rating badge needed (methods is informational)
   - Show detail text
   - Display breakdown as styled grid:
   ```jsx
   <div className="grid grid-cols-2 sm:grid-cols-3 gap-4 mt-4">
     <div className="bg-white border border-gray-100 rounded-lg p-3">
       <p className="text-xs text-gray-500 uppercase tracking-wide">Calls Listened</p>
       <p className="text-xl font-semibold mt-1">{summary.sections.methods.breakdown.calls_listened}</p>
     </div>
     {/* Same pattern for: calls_attended, calls_with_feedback, calls_with_comments, calls_with_scorecards */}
   </div>
   ```

7. **Section 4 - Coaching Distribution** (summary.sections.distribution):
   - Same pattern as Section 1
   - Show level and detail text

8. **Section 5 - Feedback Quality** (summary.sections.feedback_quality):
   - Show level and detail text
   - Map over `examples` array to render quote cards:
   ```jsx
   <div className="space-y-4 mt-4">
     {summary.sections.feedback_quality.examples.map((example) => (
       <div key={example.call_id} className="bg-white border border-gray-100 rounded-lg p-4">
         <div className="flex items-center gap-2 mb-2">
           <Citation id={example.call_id} />
           <span className="text-sm text-gray-500">{example.ae} - {example.stage}</span>
         </div>
         <blockquote className="text-gray-700 italic">
           "{example.quote}"
         </blockquote>
       </div>
     ))}
   </div>
   ```

9. **Add placeholder** after sections for AE table (coming in 04-03):
   ```jsx
   {/* AE Table will be added in Plan 04-03 */}
   <div className="mt-8 p-4 bg-background-100 border border-border rounded-lg">
     <p className="text-sm text-gray-400">AE table coming in Plan 04-03</p>
   </div>
   ```
  </action>
  <verify>
Run `npm run build` - no errors. Run dev server and check each manager:

MGR001 (Sarah Chen):
- Investment: "High", "171 activities"
- Trend: "Stable"
- Methods: breakdown shows 171 calls listened, etc.
- Distribution: "Even"
- Feedback Quality: shows example quotes with Citations

MGR004 (David Park):
- Investment: "Minimal"
- Trend: "Declining"
- Distribution: "Absent"
- Feedback Quality: "None" - single example

All sections use InsightSection component with proper rating badges.
  </verify>
  <done>Five insight sections render with data from summaries.js, using InsightSection and Citation components</done>
</task>

</tasks>

<verification>
After task completion:
1. `npm run build` passes without errors
2. All 5 sections visible on detail page
3. Each section shows correct data per manager
4. Rating badges match the level (High=improving, Low=declining, etc.)
5. Feedback Quality section shows clickable Citation components
6. Methods section shows activity breakdown grid
</verification>

<success_criteria>
- DETAIL-03: Coaching Investment section shows level + activity count
- DETAIL-04: Trend Over Time section shows trend status
- DETAIL-05: Coaching Methods shows all 5 activity types
- DETAIL-06: Coaching Distribution shows distribution level
- DETAIL-07: Feedback Quality shows example quotes with citations
</success_criteria>

<output>
After completion, create `.planning/phases/04-manager-detail/04-02-SUMMARY.md`
</output>
